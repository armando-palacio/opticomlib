<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Electro-Optical Devices &mdash; opticomlib  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/fonts.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon_laser.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="OOK Devices" href="ook.html" />
    <link rel="prev" title="Data types" href="types.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            opticomlib
              <img src="_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.5.8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#usage">Usage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">OptiComLib Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="types.html">Data types</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Electro-Optical Devices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.PRBS"><code class="docutils literal notranslate"><span class="pre">PRBS()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.DAC"><code class="docutils literal notranslate"><span class="pre">DAC()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.PM"><code class="docutils literal notranslate"><span class="pre">PM()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.MZM"><code class="docutils literal notranslate"><span class="pre">MZM()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.BPF"><code class="docutils literal notranslate"><span class="pre">BPF()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.EDFA"><code class="docutils literal notranslate"><span class="pre">EDFA()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.DM"><code class="docutils literal notranslate"><span class="pre">DM()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.FIBER"><code class="docutils literal notranslate"><span class="pre">FIBER()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.LPF"><code class="docutils literal notranslate"><span class="pre">LPF()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.PD"><code class="docutils literal notranslate"><span class="pre">PD()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.ADC"><code class="docutils literal notranslate"><span class="pre">ADC()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.GET_EYE"><code class="docutils literal notranslate"><span class="pre">GET_EYE()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.SAMPLER"><code class="docutils literal notranslate"><span class="pre">SAMPLER()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#opticomlib.devices.FBG"><code class="docutils literal notranslate"><span class="pre">FBG()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ook.html">OOK Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppm.html">PPM Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab.html">Laboratory</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities functions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">opticomlib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Electro-Optical Devices</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/devices.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="electro-optical-devices">
<h1>Electro-Optical Devices<a class="headerlink" href="#electro-optical-devices" title="Permalink to this heading"></a></h1>
<p>Use this module to simulate electro-optical devices.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">opticomlib.devices</span> <span class="k">as</span> <span class="nn">dv</span>
</pre></div>
</div>
<span class="target" id="module-opticomlib.devices"></span><p class="rubric">Devices</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#opticomlib.devices.PRBS" title="opticomlib.devices.PRBS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PRBS</span></code></a>(order[, len, seed, return_seed])</p></td>
<td><p><strong>Pseudorandom binary sequence generator</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#opticomlib.devices.DAC" title="opticomlib.devices.DAC"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DAC</span></code></a>(input[, bias, Vout, pulse_shape, BW])</p></td>
<td><p><strong>Digital-to-Analog Converter</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#opticomlib.devices.PM" title="opticomlib.devices.PM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PM</span></code></a>(op_input, el_input[, Vpi])</p></td>
<td><p><strong>Optical Phase Modulator</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#opticomlib.devices.MZM" title="opticomlib.devices.MZM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MZM</span></code></a>(op_input, el_input[, bias, Vpi, ...])</p></td>
<td><p><strong>Mach-Zehnder modulator</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#opticomlib.devices.BPF" title="opticomlib.devices.BPF"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BPF</span></code></a>(input, BW[, n])</p></td>
<td><p><strong>Optical Band-Pass Filter</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#opticomlib.devices.EDFA" title="opticomlib.devices.EDFA"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EDFA</span></code></a>(input, G, NF[, BW])</p></td>
<td><p><strong>Erbium Doped Fiber</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#opticomlib.devices.DM" title="opticomlib.devices.DM"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DM</span></code></a>(input, D[, retH])</p></td>
<td><p><strong>Dispersive Medium</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#opticomlib.devices.FIBER" title="opticomlib.devices.FIBER"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FIBER</span></code></a>(input, length[, alpha, beta_2, ...])</p></td>
<td><p><strong>Optical Fiber</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#opticomlib.devices.LPF" title="opticomlib.devices.LPF"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LPF</span></code></a>(input, BW[, n, fs, retH])</p></td>
<td><p><strong>Low Pass Filter</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#opticomlib.devices.PD" title="opticomlib.devices.PD"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PD</span></code></a>(input, BW[, r, T, R_load, include_noise, ...])</p></td>
<td><p><strong>P-I-N Photodetector</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#opticomlib.devices.ADC" title="opticomlib.devices.ADC"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ADC</span></code></a>(input[, fs, n, otype])</p></td>
<td><p><strong>Analog-to-Digital Converter</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#opticomlib.devices.GET_EYE" title="opticomlib.devices.GET_EYE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GET_EYE</span></code></a>(input[, nslots, sps_resamp])</p></td>
<td><p><strong>Get Eye Parameters Estimator</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#opticomlib.devices.SAMPLER" title="opticomlib.devices.SAMPLER"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SAMPLER</span></code></a>(input, _eye_)</p></td>
<td><p><strong>Digital sampler</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#opticomlib.devices.FBG" title="opticomlib.devices.FBG"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FBG</span></code></a>(input[, neff, v, landa_D, fc, kL, L, N, ...])</p></td>
<td><p><strong>Fiber Bragg Grating</strong>.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.PRBS">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">PRBS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">7</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">9</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">11</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">15</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">20</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">23</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">31</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#PRBS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.PRBS" title="Permalink to this definition"></a></dt>
<dd><p><strong>Pseudorandom binary sequence generator</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, {7, 9, 11, 15, 20, 23, 31}) – degree of the generating pseudorandom polynomial</p></li>
<li><p><strong>len</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional) – lenght of output binary sequence</p></li>
<li><p><strong>seed</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional) – seed of the generator (initial state of the LFSR).
It must be provided if you want to continue the sequence.
Default is 2**order-1.</p></li>
<li><p><strong>return_seed</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If True, the last state of LFSR is returned. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – generated pseudorandom binary sequence</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">binary_sequence</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">order</span></code> is not in [7, 9, 11, 15, 20, 23, 31].</p></li>
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">len</span></code> is not an integer.</p></li>
</ul>
</dd>
<dt class="field-odd">Warns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>UserWarning</strong> – If the seed is 0 or a multiple of 2**order.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>You can generate a PRBS sequence using the following code:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">PRBS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PRBS</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="nb">len</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">binary_sequence([1 0 0 0 0 0 0 1 0 0])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PRBS</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">31</span><span class="p">,</span> <span class="nb">len</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">binary_sequence([1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0])</span>
</pre></div>
</div>
<p>You can fix the LFSR iniitial state of generator by using the following code:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">PRBS</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="nb">len</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">124</span><span class="p">)</span>
<span class="go">binary_sequence([0 0 0 0 0 1 0 0 0 0])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>For more details, see <a class="reference internal" href="#prbs" id="id1"><span>[prbs]</span></a>.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(2^7-1\)</span> bits. Polynomial <span class="math notranslate nohighlight">\(= X^7 + X^6 + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2^9-1\)</span> bits. Polynomial <span class="math notranslate nohighlight">\(= X^9 + X^5 + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2^{11}-1\)</span> bits. Polynomial <span class="math notranslate nohighlight">\(= X^{11} + X^9 + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2^{15}-1\)</span> bits. Polynomial <span class="math notranslate nohighlight">\(= X^{15} + X^{14} + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2^{20}-1\)</span> bits. Polynomial <span class="math notranslate nohighlight">\(= X^{20} + X^3 + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2^{23}-1\)</span> bits. Polynomial <span class="math notranslate nohighlight">\(= X^{23} + X^{18} + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2^{31}-1\)</span> bits. Polynomial <span class="math notranslate nohighlight">\(= X^{31} + X^{28} + 1\)</span></p></li>
</ul>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="prbs" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">prbs</a><span class="fn-bracket">]</span></span>
<p>“Pseudorandom binary sequence” <a class="reference external" href="https://en.wikipedia.org/wiki/Pseudorandom_binary_sequence">https://en.wikipedia.org/wiki/Pseudorandom_binary_sequence</a></p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.DAC">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">DAC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">tuple</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="types.html#opticomlib.typing.binary_sequence" title="opticomlib.typing.binary_sequence"><span class="pre">binary_sequence</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulse_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'nrz'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rz'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rect'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'gaussian'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nrz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#DAC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.DAC" title="Permalink to this definition"></a></dt>
<dd><p><strong>Digital-to-Analog Converter</strong></p>
<p>Converts a binary sequence into an electrical signal, sampled at a frequency <code class="docutils literal notranslate"><span class="pre">gv.fs</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Parameter value <code class="docutils literal notranslate"><span class="pre">pulse_shape='rect'</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">pulse_shape='nrz'</span></code>. It is recommended to use <code class="docutils literal notranslate"><span class="pre">pulse_shape='nrz'</span></code>, <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> will be removed in futures versions.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, or <code class="xref py py-obj docutils literal notranslate"><span class="pre">binary_sequence</span></code>) – Input binary sequence.</p></li>
<li><p><strong>bias</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – DC bias of the output signal. Default: 0.0</p></li>
<li><p><strong>Vout</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Output signal amplitude. Should be in the range [-48, 48] Volts. Default: 1.0</p></li>
<li><p><strong>pulse_shape</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, {‘nrz’, ‘rect’, ‘gaussian’}) – Pulse shape at the output. Default: ‘nrz’</p></li>
<li><p><strong>BW</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Bandwidth of DAC. If <code class="docutils literal notranslate"><span class="pre">None</span></code> bandwidth is not limited. Default: None</p></li>
<li><p><strong>c</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Chirp of the Gaussian pulse. Only applicable if <code class="docutils literal notranslate"><span class="pre">pulse_shape='gaussian'</span></code>. Default: 0.0</p></li>
<li><p><strong>m</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Order of the super-Gaussian pulse. Only applicable if <code class="docutils literal notranslate"><span class="pre">pulse_shape='gaussian'</span></code>. Default: 1</p></li>
<li><p><strong>T</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Pulse width at half maximum in number of samples. Only applicable if <code class="docutils literal notranslate"><span class="pre">pulse_shape='gaussian'</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">gv.sps</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The converted electrical signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">pulse_shape</span></code> is not <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> or <code class="docutils literal notranslate"><span class="pre">'gaussian'</span></code>.
    If <code class="docutils literal notranslate"><span class="pre">Vout</span></code> is not between -48 and 48 Volts.
    If <code class="docutils literal notranslate"><span class="pre">bias</span></code> is not between -48 and 48 Volts.
    If <code class="docutils literal notranslate"><span class="pre">T</span></code> is &lt;=0 or greater than 2 times the samples per bit.
    If <code class="docutils literal notranslate"><span class="pre">m</span></code> is not a positive integer.</p></li>
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">Vout</span></code> is not a scalar value.
    If <code class="docutils literal notranslate"><span class="pre">bias</span></code> is not a scalar value.
    If <code class="docutils literal notranslate"><span class="pre">c</span></code> is not a scalar value.
    If <code class="docutils literal notranslate"><span class="pre">m</span></code> is not an integer value.
    If <code class="docutils literal notranslate"><span class="pre">T</span></code> is not an integer value.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">DAC</span>
<span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">gv</span>

<span class="n">gv</span><span class="p">(</span><span class="n">sps</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span> <span class="c1"># set samples per bit</span>

<span class="n">DAC</span><span class="p">(</span><span class="s1">&#39;0 0 1 0 0&#39;</span><span class="p">,</span> <span class="n">Vout</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">pulse_shape</span><span class="o">=</span><span class="s1">&#39;gaussian&#39;</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/28621d512961f7bd67b1f606213b4bee/devices-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/395115a368eb8c7cb581ce5e8f226f0b/devices-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/e04ebb051a0ab8a5798f5a9fc384fb96/devices-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/05d61ac519a849475db4c5d3e115dcc2/devices-1.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-center">
<img alt="DAC example 1" class="plot-directive" src="_images/devices-1.png" />
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.PM">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">PM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">el_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><span class="pre">electrical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#PM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.PM" title="Permalink to this definition"></a></dt>
<dd><p><strong>Optical Phase Modulator</strong></p>
<p>Modulate the phase of the input optical signal through input electrical signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_input</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>) – Optical signal to be modulated.</p></li>
<li><p><strong>el_input</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code>, or <code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code>) – Driver voltage. It can be an integer value, in which case the phase modulation is constant, or an electrical signal of the same length as the optical signal.</p></li>
<li><p><strong>Vpi</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Voltage at which the device achieves a phase shift of <span class="math notranslate nohighlight">\(\pi\)</span>. Default value is 5.0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>op_output</strong> – Modulated optical signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">op_input</span></code> type is not [<code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>].
    If <code class="docutils literal notranslate"><span class="pre">el_input</span></code> type is not in [<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code>].</p></li>
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">el_input</span></code> is [<code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code>] or [<code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code>] but, length is not equal to <code class="docutils literal notranslate"><span class="pre">op_input</span></code> length.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The output signal is given by:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/PMv2.png"><img alt="MZM" src="_images/PMv2.png" style="width: 50%;" /></a>
</figure>
<div class="math notranslate nohighlight">
\[E_{out} = E_{in} \cdot e^{\left(j\pi \frac{u(t)}{V_{\pi}}\right)}\]</div>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">PM</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">optical_signal</span><span class="p">,</span> <span class="n">gv</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="linenos"> 4</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="n">gv</span><span class="p">(</span><span class="n">sps</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">1e9</span><span class="p">)</span> <span class="c1"># set samples per bit and bitrate</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="n">op_input</span> <span class="o">=</span> <span class="n">optical_signal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="n">j</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)))</span> <span class="c1"># input optical signal ( exp(j*w*t) )</span>
<span class="linenos"> 9</span><span class="n">t</span> <span class="o">=</span> <span class="n">op_input</span><span class="o">.</span><span class="n">t</span><span class="p">()</span><span class="o">*</span><span class="mf">1e9</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c1"># Constant phase</span>
<span class="linenos">14</span><span class="n">output</span> <span class="o">=</span> <span class="n">PM</span><span class="p">(</span><span class="n">op_input</span><span class="p">,</span> <span class="n">el_input</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">Vpi</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Constant phase change ($\Delta f=0$)&#39;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">op_input</span><span class="o">.</span><span class="n">signal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">18</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">signal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="c1"># Lineal phase</span>
<span class="linenos">22</span><span class="n">output</span> <span class="o">=</span> <span class="n">PM</span><span class="p">(</span><span class="n">op_input</span><span class="p">,</span> <span class="n">el_input</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="n">op_input</span><span class="o">.</span><span class="n">len</span><span class="p">()),</span> <span class="n">Vpi</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Linear phase change  ($\Delta f \rightarrow cte.$)&#39;</span><span class="p">)</span>
<span class="linenos">25</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">op_input</span><span class="o">.</span><span class="n">signal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">26</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">signal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">27</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="c1"># Quadratic phase</span>
<span class="linenos">30</span><span class="n">output</span> <span class="o">=</span> <span class="n">PM</span><span class="p">(</span><span class="n">op_input</span><span class="p">,</span> <span class="n">el_input</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,(</span><span class="mi">5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">,</span><span class="n">op_input</span><span class="o">.</span><span class="n">len</span><span class="p">())</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">Vpi</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Quadratic phase change ($\Delta f \rightarrow linear$)&#39;</span><span class="p">)</span>
<span class="linenos">33</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">op_input</span><span class="o">.</span><span class="n">signal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">34</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">signal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">35</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo [ns]&#39;</span><span class="p">)</span>
<span class="linenos">38</span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="linenos">39</span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/PM_example1.svg"><img alt="_images/PM_example1.svg" class="align-center" src="_images/PM_example1.svg" width="100%" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.MZM">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">MZM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">el_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><span class="pre">electrical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vpi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss_dB</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ER_dB</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">26.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'x'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'y'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#MZM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.MZM" title="Permalink to this definition"></a></dt>
<dd><p><strong>Mach-Zehnder modulator</strong></p>
<p>Asymmetric coupler and opposite driving voltages model (<span class="math notranslate nohighlight">\(u_1(t)=-u_2(t)=u(t)\)</span> Push-Pull configuration).
The input and output are polarization maintained. Internally, the modulator can select the polarization
to be modulated by setting the parameter <code class="docutils literal notranslate"><span class="pre">pol</span></code> to <code class="docutils literal notranslate"><span class="pre">'x'</span></code> or <code class="docutils literal notranslate"><span class="pre">'y'</span></code>. If one of them is selected, the other is
strongly attenuated (set to zeros).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>op_input</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>) – Optical signal to be modulated. This optical signal must contain only one polarization <code class="docutils literal notranslate"><span class="pre">op_input.n_pol=1</span></code>. Otherwise
it remove the second polarization.</p></li>
<li><p><strong>el_input</strong> (Number, <code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code>, or <code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code>) – Driver voltage, with zero bias.</p></li>
<li><p><strong>bias</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Modulator bias voltage. Default is 0.0.</p></li>
<li><p><strong>Vpi</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Voltage at which the device switches from on-state to off-state. Default is 5.0 V.</p></li>
<li><p><strong>loss_dB</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Propagation or insertion losses in the modulator, value in dB. Default is 0.0 dB.</p></li>
<li><p><strong>ER_dB</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Extinction ratio of the modulator, in dB. Default is 26 dB.</p></li>
<li><p><strong>pol</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, {‘x’, ‘y’} optional) – Polarization of the modulator. Default is <code class="docutils literal notranslate"><span class="pre">'x'</span></code>.</p></li>
<li><p><strong>BW</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Modulator bandwidth in Hz. If not provided, the bandwidth is not limited.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Modulated optical signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">op_input</span></code> type is not [<code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>].
    If <code class="docutils literal notranslate"><span class="pre">el_input</span></code> type is not in [<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code>].</p></li>
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">el_input</span></code> is [<code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code>] or [<code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code>] but, length is not equal to <code class="docutils literal notranslate"><span class="pre">op_input</span></code> length.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/MZMv2.png"><img alt="MZM" src="_images/MZMv2.png" style="width: 50%;" /></a>
</figure>
<p>The output signal is given by <a class="footnote-reference brackets" href="#id3" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>:</p>
<div class="math notranslate nohighlight">
\[\vec{E}_{out} = \vec{E}_{in} \cdot \sqrt{l} \cdot \left[ \cos\left(\frac{\pi}{2V_{\pi}}(u(t)+V_{bias})\right) + j \frac{\eta}{2} \sin\left(\frac{\pi}{2V_{\pi}}(u(t)+V_{bias})\right) \right]\]</div>
<p>where <span class="math notranslate nohighlight">\(\eta = 2\times 10^{-ER_{dB}/10}\)</span> and <span class="math notranslate nohighlight">\(l = 10^{-loss_{dB}/10}\)</span>.</p>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Tetsuya Kawanishi, “Electro-optic Modulation for Photonic Networks”, Chapter 4.3 (2022). doi: <a class="reference external" href="https://doi.org/10.1007/978-3-030-86720-1">https://doi.org/10.1007/978-3-030-86720-1</a></p>
</aside>
</aside>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">idbm</span><span class="p">,</span> <span class="n">dbm</span><span class="p">,</span> <span class="n">optical_signal</span><span class="p">,</span> <span class="n">gv</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">MZM</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 5</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="n">gv</span><span class="p">(</span><span class="n">sps</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">10e9</span><span class="p">)</span> <span class="c1"># set samples per bit and bitrate</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="n">Vpi</span> <span class="o">=</span> <span class="mi">5</span>
<span class="linenos">10</span><span class="n">tx_seq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="nb">bool</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="n">V</span> <span class="o">=</span> <span class="n">DAC</span><span class="p">(</span><span class="o">~</span><span class="n">tx_seq</span><span class="p">,</span> <span class="n">Vout</span><span class="o">=</span><span class="n">Vpi</span><span class="p">,</span> <span class="n">pulse_shape</span><span class="o">=</span><span class="s1">&#39;rect&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">Vpi</span><span class="o">/</span><span class="mi">2</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="nb">input</span> <span class="o">=</span> <span class="n">optical_signal</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">signal</span><span class="p">)</span><span class="o">*</span><span class="n">idbm</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span> <span class="p">)</span>
<span class="linenos">15</span><span class="nb">input</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="nb">input</span><span class="o">.</span><span class="n">len</span><span class="p">())</span>
<span class="linenos">16</span><span class="n">t</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">t</span><span class="p">()</span><span class="o">*</span><span class="mf">1e9</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">mod_sig</span> <span class="o">=</span> <span class="n">MZM</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">el_input</span><span class="o">=</span><span class="n">V</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="n">Vpi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">Vpi</span><span class="o">=</span><span class="n">Vpi</span><span class="p">,</span> <span class="n">loss_dB</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ER_dB</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mf">40e9</span><span class="p">)</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="c1"># Plot input and output power</span>
<span class="linenos">23</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">dbm</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">24</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">dbm</span><span class="p">(</span><span class="n">mod_sig</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;C1-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">25</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="linenos">26</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia [dBm]&#39;</span><span class="p">)</span>
<span class="linenos">27</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[::</span><span class="n">gv</span><span class="o">.</span><span class="n">sps</span><span class="p">]:</span>
<span class="linenos">28</span>    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="c1"># # Plot fase</span>
<span class="linenos">31</span><span class="n">phi_in</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
<span class="linenos">32</span><span class="n">phi_out</span> <span class="o">=</span> <span class="n">mod_sig</span><span class="o">.</span><span class="n">phase</span><span class="p">()</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">phi_in</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fase in&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">35</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">phi_out</span><span class="p">,</span> <span class="s1">&#39;C0-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fase out&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">36</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Fase [rad]&#39;</span><span class="p">)</span>
<span class="linenos">37</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="linenos">38</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[::</span><span class="n">gv</span><span class="o">.</span><span class="n">sps</span><span class="p">]:</span>
<span class="linenos">39</span>    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="c1"># Frecuency chirp</span>
<span class="linenos">42</span><span class="n">freq_in</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">phi_in</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos">43</span><span class="n">freq_out</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">phi_out</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos">44</span>
<span class="linenos">45</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">freq_in</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Frequency in&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">46</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">freq_out</span><span class="p">,</span> <span class="s1">&#39;C7&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Frequency out&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">47</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo [ns]&#39;</span><span class="p">)</span>
<span class="linenos">48</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency Chirp [Hz]&#39;</span><span class="p">)</span>
<span class="linenos">49</span><span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="linenos">50</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[::</span><span class="n">gv</span><span class="o">.</span><span class="n">sps</span><span class="p">]:</span>
<span class="linenos">51</span>    <span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="linenos">52</span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/MZM_example.svg"><img alt="_images/MZM_example.svg" class="align-center" src="_images/MZM_example.svg" width="100%" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.BPF">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">BPF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">BW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#BPF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.BPF" title="Permalink to this definition"></a></dt>
<dd><p><strong>Optical Band-Pass Filter</strong></p>
<p>Filters the input optical signal, allowing only the desired frequency band to pass.
Bessel filter model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><em>optical_signal</em></a>) – The optical signal to be filtered.</p></li>
<li><p><strong>BW</strong> (<em>float</em>) – The bandwidth of the filter in Hz.</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>default: 4</em>) – The order of the filter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The filtered optical signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal">optical_signal</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.EDFA">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">EDFA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NF</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">BW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#EDFA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.EDFA" title="Permalink to this definition"></a></dt>
<dd><p><strong>Erbium Doped Fiber</strong></p>
<p>Amplifies the optical signal at the input, adding amplified spontaneous emission (ASE) noise in two polarizations at the output.
Simplest model (no saturation output power).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><em>optical_signal</em></a>) – The optical signal to be amplified.</p></li>
<li><p><strong>G</strong> (<em>float</em>) – The gain of the amplifier, in dB.</p></li>
<li><p><strong>NF</strong> (<em>float</em>) – The noise figure of the amplifier, in dB.</p></li>
<li><p><strong>BW</strong> (<em>float</em><em>, </em><em>optional</em>) – The bandwidth of the amplifier, in Hz. If <code class="docutils literal notranslate"><span class="pre">None</span></code> bandwidth will be <code class="docutils literal notranslate"><span class="pre">gv.fs</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The amplified optical signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal">optical_signal</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">input</span></code> is not an optical_signal.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>ASE noise power must be theoretically:</p>
<div class="math notranslate nohighlight">
\[P_\text{ase} = \text{NF} h f_0 (G-1) BW\]</div>
<p>where <span class="math notranslate nohighlight">\(h\)</span> is the Planck constant and <span class="math notranslate nohighlight">\(f_0\)</span> is the central frequency of communication
(by default <code class="docutils literal notranslate"><span class="pre">gv.f0</span></code> is taken, if you wish change this value, you can change <code class="docutils literal notranslate"><span class="pre">wavelength</span></code>
parameter in <code class="docutils literal notranslate"><span class="pre">gv()</span></code>). Noise is generated for two polarizations xy as a complex signal, with a
distribution <span class="math notranslate nohighlight">\(\mathcal{N}(0, P_\text{ase}/4)\)</span> for real and imaginary parts.</p>
<p class="rubric">Examples</p>
<p>Following picture show the input-output of EDFA from a sinusoidal signal. For values of example, the output noise power
must be <span class="math notranslate nohighlight">\(P_{ase} \approx -27\)</span> dBm.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">EDFA</span>
<span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">optical_signal</span><span class="p">,</span> <span class="n">gv</span><span class="p">,</span> <span class="n">np</span><span class="p">,</span> <span class="n">plt</span>

<span class="n">gv</span><span class="p">(</span><span class="n">sps</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">NF</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mf">50e9</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">optical_signal</span><span class="p">(</span>
    <span class="n">signal</span><span class="o">=</span><span class="p">[</span>
        <span class="p">(</span><span class="mf">1e-3</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">gv</span><span class="o">.</span><span class="n">R</span><span class="o">*</span><span class="n">gv</span><span class="o">.</span><span class="n">t</span><span class="p">),</span>
        <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">gv</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="n">n_pol</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">EDFA</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="n">gv</span><span class="o">.</span><span class="n">G</span><span class="p">,</span> <span class="n">NF</span><span class="o">=</span><span class="n">gv</span><span class="o">.</span><span class="n">NF</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="n">gv</span><span class="o">.</span><span class="n">BW</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;EDFA input-output (G=</span><span class="si">{</span><span class="n">gv</span><span class="o">.</span><span class="n">G</span><span class="si">}</span><span class="s2"> dB, NF=</span><span class="si">{</span><span class="n">gv</span><span class="o">.</span><span class="n">NF</span><span class="si">}</span><span class="s2"> dB, BW=</span><span class="si">{</span><span class="n">gv</span><span class="o">.</span><span class="n">BW</span><span class="o">*</span><span class="mf">1e-9</span><span class="si">}</span><span class="s2"> GHz)&quot;</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Input&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">gv</span><span class="o">.</span><span class="n">t</span><span class="o">*</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">signal</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.015</span><span class="p">,</span> <span class="mf">0.015</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Output&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">gv</span><span class="o">.</span><span class="n">t</span><span class="o">*</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">signal</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="n">y</span><span class="o">.</span><span class="n">noise</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">real</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.015</span><span class="p">,</span> <span class="mf">0.015</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;x-pol&#39;</span><span class="p">,</span> <span class="s1">&#39;y-pol&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;t [ns]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/d710dcc9f69ee76a17a220b1336fcfc6/devices-2.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/80d5b17869bf7dd66621c47df53f982e/devices-2.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/494321e0f148751b3fd67ca01a513bba/devices-2.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/0ebe256e4ad41710c03ba8e8d3cca061/devices-2.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-center">
<img alt="DM example 1" class="plot-directive" src="_images/devices-2.png" />
</figure>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">dbm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dbm</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="s1">&#39;noise&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()))</span> <span class="c1"># print sum of power of two polarizations</span>
<span class="go">-28.068263005828555</span>
</pre></div>
</div>
<p>We can see that noise power is a little less than theoretical prediction, this is because
the filter used in the EDFA is not a rectangular response filter (it’s a 4th order Bessel filter).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.DM">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">DM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">D</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retH</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#DM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.DM" title="Permalink to this definition"></a></dt>
<dd><p><strong>Dispersive Medium</strong></p>
<p>Emulates a medium with only the dispersion property, i.e., only <span class="math notranslate nohighlight">\(\beta_2\)</span> different from zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><em>optical_signal</em></a>) – The input optical signal.</p></li>
<li><p><strong>D</strong> (<em>float</em>) – The dispersion coefficient of the medium (<span class="math notranslate nohighlight">\(\beta_2z\)</span>), in [ps^2].</p></li>
<li><p><strong>retH</strong> (<em>bool</em><em>, </em><em>default: False</em>) – If True, the frequency response of the medium is also returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>optical_signal</em> – The output optical signal.</p></li>
<li><p><strong>H</strong> (<em>ndarray</em>) – The frequency response of the medium. If <code class="docutils literal notranslate"><span class="pre">retH=True</span></code>.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">input</span></code> is not an optical signal.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Frequency response of the medium is given by:</p>
<div class="math notranslate nohighlight">
\[H(\omega) = e^{-j \frac{D}{2} \omega^2}\]</div>
<p>The output signal is simply a fase modulation in the frequency domain of the input signal:</p>
<div class="math notranslate nohighlight">
\[E_{out}(t) = \mathcal{F}^{-1} \left\{ H(\omega) \cdot \mathcal{F} \left\{ E_{in}(t) \right\} \right\}\]</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">DM</span><span class="p">,</span> <span class="n">DAC</span>
<span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">optical_signal</span><span class="p">,</span> <span class="n">gv</span><span class="p">,</span> <span class="n">idbm</span><span class="p">,</span> <span class="n">bode</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">gv</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">sps</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">10e9</span><span class="p">)</span>

<span class="n">signal</span> <span class="o">=</span> <span class="n">DAC</span><span class="p">(</span><span class="s1">&#39;0,0,0,1,0,0,0&#39;</span><span class="p">,</span> <span class="n">pulse_shape</span><span class="o">=</span><span class="s1">&#39;gaussian&#39;</span><span class="p">)</span>
<span class="nb">input</span> <span class="o">=</span> <span class="n">optical_signal</span><span class="p">(</span> <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="o">/</span><span class="n">signal</span><span class="o">.</span><span class="n">power</span><span class="p">()</span><span class="o">**</span><span class="mf">0.5</span><span class="o">*</span><span class="n">idbm</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">n_pol</span><span class="o">=</span><span class="mi">2</span> <span class="p">)</span>

<span class="n">output</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="n">DM</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">D</span><span class="o">=</span><span class="mi">4000</span><span class="p">,</span> <span class="n">retH</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">gv</span><span class="o">.</span><span class="n">t</span><span class="o">*</span><span class="mf">1e9</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;dark_background&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;hspace&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">})</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="nb">input</span><span class="o">.</span><span class="n">abs</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">abs</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$|E(t)|$&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">phase</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="n">gv</span><span class="o">.</span><span class="n">dt</span><span class="o">*</span><span class="mf">1e-9</span><span class="p">,</span> <span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">phase</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="n">gv</span><span class="o">.</span><span class="n">dt</span><span class="o">*</span><span class="mf">1e-9</span><span class="p">,</span> <span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (ns)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$f_i(t)$ (GHz)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/14ba9f4b39696fb74610e84d44d05c29/devices-3.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/e4bc1d91b71d76fc34e13b21e73db4b0/devices-3.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/0732fb09b6ab96da5c0052a22f3796c8/devices-3.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/2841db551a28406cce0e500e6402c2a7/devices-3.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-center">
<img alt="DM example 1" class="plot-directive" src="_images/devices-3.png" />
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.FIBER">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">FIBER</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta_3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#FIBER"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.FIBER" title="Permalink to this definition"></a></dt>
<dd><p><strong>Optical Fiber</strong></p>
<p>Simulates the transmission through an optical fiber, solving Schrödinger’s equation numerically,
by using split-step Fourier method with adaptive step (method based on limiting the nonlinear phase rotation) <a class="footnote-reference brackets" href="#id5" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.
Polarization mode dispersion (PMD) is not considered in this model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><em>optical_signal</em></a>) – Input optical signal.</p></li>
<li><p><strong>length</strong> (<em>float</em>) – Length of the fiber, in [km].</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em>, </em><em>default: 0.0</em>) – Attenuation coefficient of the fiber, in [dB/km].</p></li>
<li><p><strong>beta_2</strong> (<em>float</em><em>, </em><em>default: 0.0</em>) – Second-order dispersion coefficient of the fiber, in [ps^2/km].</p></li>
<li><p><strong>beta_3</strong> (<em>float</em><em>, </em><em>default: 0.0</em>) – Third-order dispersion coefficient of the fiber, in [ps^3/km].</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em>, </em><em>default: 0.0</em>) – Nonlinearity coefficient of the fiber, in [(W·km)^-1].</p></li>
<li><p><strong>phi_max</strong> (<em>float</em><em>, </em><em>default: 0.05</em>) – Upper bound of the nonlinear phase rotation, in [rad].</p></li>
<li><p><strong>show_progress</strong> (<em>bool</em><em>, </em><em>default: False</em>) – Show algorithm progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Output optical signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal">optical_signal</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">input</span></code> is not an optical signal.</p>
</dd>
</dl>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">2</a><span class="fn-bracket">]</span></span>
<p>O.V. Sinkin; R. Holzlohner; J. Zweck; C.R. Menyuk, “Optimization of the split-step Fourier method in modeling optical-fiber communications systems,” vol. 21, no. 1, pp. 61-68, Jan. 2003, doi: <a class="reference external" href="https://doi.org/10.1109/JLT.2003.808628">https://doi.org/10.1109/JLT.2003.808628</a></p>
</aside>
</aside>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">FIBER</span><span class="p">,</span> <span class="n">DAC</span>
<span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">optical_signal</span><span class="p">,</span> <span class="n">gv</span><span class="p">,</span> <span class="n">idbm</span>

<span class="n">gv</span><span class="p">(</span><span class="n">sps</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">10e9</span><span class="p">)</span>

<span class="n">signal</span> <span class="o">=</span> <span class="n">DAC</span><span class="p">(</span><span class="s1">&#39;0,0,0,1,0,0,0&#39;</span><span class="p">,</span> <span class="n">pulse_shape</span><span class="o">=</span><span class="s1">&#39;gaussian&#39;</span><span class="p">)</span>
<span class="nb">input</span> <span class="o">=</span> <span class="n">optical_signal</span><span class="p">(</span> <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="o">/</span><span class="n">signal</span><span class="o">.</span><span class="n">power</span><span class="p">()</span><span class="o">**</span><span class="mf">0.5</span><span class="o">*</span><span class="n">idbm</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">n_pol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">output</span> <span class="o">=</span> <span class="n">FIBER</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">beta_2</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">input</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;r-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">output</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/3305a7bd39f1cd022ae3640917c348aa/devices-4.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/f66d937e173f1b067a55aac5aed4b2a8/devices-4.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/0c219d70072cb6d68a38b0917279fbac/devices-4.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/3c42c112cc390fb0b20aaaf86170af68/devices-4.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-center" id="id11">
<img alt="FIBER example 1" class="plot-directive" src="_images/devices-4.png" />
<figcaption>
<p><span class="caption-text">The input signal is a 10 Gbps NRZ signal with 20 dBm of power. The fiber has a length of 50 km, an attenuation of 0.01 dB/km,
a second-order dispersion of -20 ps^2/km, and a nonlinearity coefficient of 0.1 (W·km)^-1. The output signal is shown in blue.</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.LPF">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">LPF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><span class="pre">electrical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">BW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retH</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#LPF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.LPF" title="Permalink to this definition"></a></dt>
<dd><p><strong>Low Pass Filter</strong></p>
<p>Filters the input electrical signal, allowing only the desired frequency band to pass.
Bessel filter model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>ndarray</em><em> or </em><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><em>electrical_signal</em></a>) – Electrical signal to be filtered.</p></li>
<li><p><strong>BW</strong> (<em>float</em>) – Filter bandwidth or cutoff frequency, in [Hz].</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>default: 4</em>) – Filter order.</p></li>
<li><p><strong>fs</strong> (<em>float</em><em>, </em><em>default: gv.fs</em>) – Sampling frequency of the input signal.</p></li>
<li><p><strong>retH</strong> (<em>bool</em><em>, </em><em>default: False</em>) – If True, the frequency response of the filter is also returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered electrical signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal">electrical_signal</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">input</span></code> is not of type ndarray or electrical_signal.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">LPF</span>
<span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">gv</span><span class="p">,</span> <span class="n">electrical_signal</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">gv</span><span class="p">(</span><span class="n">N</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">sps</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">1e9</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">gv</span><span class="o">.</span><span class="n">t</span>
<span class="n">c</span> <span class="o">=</span> <span class="mf">20e9</span><span class="o">/</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="c1"># frequency chirp from 0 to 20 GHz</span>

<span class="nb">input</span> <span class="o">=</span> <span class="n">electrical_signal</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">c</span><span class="o">*</span><span class="n">t</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">LPF</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="mf">10e9</span><span class="p">)</span>

<span class="nb">input</span><span class="o">.</span><span class="n">psd</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">output</span><span class="o">.</span><span class="n">psd</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;-6 dB&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;&lt;-&gt;&#39;</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/b633617c266ff42a2595562039e77822/devices-5.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/1fcf8ff70e1c8d7f721d65b2de57533a/devices-5.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/f95c67d7c6ee21076e0beb19943bd44a/devices-5.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/e16be3c97063a4185229437bf0922a18/devices-5.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-center">
<img alt="LPF example 1" class="plot-directive" src="_images/devices-5.png" />
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.PD">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">PD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">BW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R_load</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'ase-only'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'thermal-only'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'shot-only'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ase-thermal'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ase-shot'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'thermal-shot'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'all'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_dark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#PD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.PD" title="Permalink to this definition"></a></dt>
<dd><p><strong>P-I-N Photodetector</strong></p>
<p>Simulates the detection of an optical signal by a P-I-N photodetector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>) – Optical signal to be photodetected.</p></li>
<li><p><strong>BW</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Detector bandwidth in [Hz].</p></li>
<li><p><strong>r</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Detector responsivity in [A/W]. Default: 1.0.</p></li>
<li><p><strong>T</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Detector temperature in [K]. Default: 300.0.</p></li>
<li><p><strong>R_load</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Detector load resistance in [<span class="math notranslate nohighlight">\(\Omega\)</span>]. Default: 50.0.</p></li>
<li><p><strong>include_noise</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional) – <p>Type of noise to include in the simulation. Default: ‘all’.
Options include:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'ase-only'</span></code>: only include ASE noise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'thermal-only'</span></code>: only include thermal noise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'shot-only'</span></code>: only include shot noise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ase-thermal'</span></code>: include ASE and thermal noise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ase-shot'</span></code>: include ASE and shot noise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'thermal-shot'</span></code>: include thermal and shot noise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'all'</span></code>: include all types of noise</p></li>
</ul>
</p></li>
<li><p><strong>i_dark</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Dark current of the photodetector in [A]. Default: 10e-9 [10 nA].</p></li>
<li><p><strong>Fn</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Noise figure of Photodetector amplifiers states, in [dB]. Default: 0 dB</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The detected electrical signal, in [v].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal">electrical_signal</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">input</span></code> is not of type optical_signal.
    If <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">T</span></code>, or <code class="docutils literal notranslate"><span class="pre">R_load</span></code> are not scalar values.
    If <code class="docutils literal notranslate"><span class="pre">include_noise</span></code> is not a string.</p></li>
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">r</span></code> is not between (0, 1].
    If <code class="docutils literal notranslate"><span class="pre">T</span></code> or <code class="docutils literal notranslate"><span class="pre">R_load</span></code> are negative values.
    If <code class="docutils literal notranslate"><span class="pre">include_noise</span></code> argument is not one of the valid options.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The total photodetected current is given by:</p>
<div class="math notranslate nohighlight">
\[i_{ph} = \mathcal{R}P_{in} + i_{th} + i_{sh} + i_{dark}\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathcal{R}\)</span> is the responsivity of the photodetector, <span class="math notranslate nohighlight">\(P_{in}\)</span> is the input power, <span class="math notranslate nohighlight">\(i_{th}\)</span> and <span class="math notranslate nohighlight">\(i_{sh}\)</span> are thermal and shot noise
respectively and <span class="math notranslate nohighlight">\(i_{dark}\)</span> is the dark current of photodetector.</p>
<p>The input power <span class="math notranslate nohighlight">\(P_{in}\)</span> is determinated as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}P_{in} &amp;= |E_x + n_x|^2 + |E_y + n_y|^2 \\
P_{in} &amp;= |E_x|^2 + |E_y|^2 + E_x n_x^* + E_x^* n_x + E_y n_y^*+E_y^* n_y + |n_x|^2 + |n_y|^2 \\
P_{in} &amp;= P_\text{sig} + P_\text{sig-ase} + P_\text{ase-ase} \\\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(E_x\)</span> and <span class="math notranslate nohighlight">\(E_y\)</span> are the amplitudes of x-polarization and y-polarization modes respectively
and <span class="math notranslate nohighlight">\(n_x\)</span> and <span class="math notranslate nohighlight">\(n_y\)</span> are the noise of x-polarization and y-polarization modes respectively.</p>
<p>The thermal and shot noises are random variables with normal distribution and variance given by <a class="reference internal" href="#agrawal" id="id6"><span>[Agrawal]</span></a>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\sigma_{th}^2 &amp;= \frac{4k_B T}{R_L}F_n \Delta f \\
\sigma_{sh}^2 &amp;= 2e\left[ r(P_\text{sig} + P_\text{ase-ase}) + i_{dark} \right]\Delta f\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(k_B\)</span> is the Boltzmann constant, <span class="math notranslate nohighlight">\(T\)</span> is the temperature of the photodetector, <span class="math notranslate nohighlight">\(R_L\)</span> is the load resistance,
<span class="math notranslate nohighlight">\(F_n\)</span> is the noise figure of the photodetector, <span class="math notranslate nohighlight">\(\Delta f\)</span> is the bandwidth of the photodetector, <span class="math notranslate nohighlight">\(e\)</span> is the electron charge.</p>
<div class="math notranslate nohighlight">
\[\begin{split}i_{ph} &amp;= \mathcal{R}P_{sig} + \mathcal{R}P_{sig-ase} + \mathcal{R}P_{ase-ase} + i_{th} + i_{sh} + i_{dark} \\
i_{ph} &amp;= i_\text{sig} + i_\text{sig-ase} + i_\text{ase-ase} + i_{th} + i_{sh} + i_{dark}\end{split}\]</div>
<p>Finally, the output voltage is given by:</p>
<div class="math notranslate nohighlight">
\[v_{ph} = i_{ph}R_L\]</div>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="agrawal" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">Agrawal</a><span class="fn-bracket">]</span></span>
<p>Agrawal, G.P., “Fiber-Optic Communication Systems”. Chapter 4.4 (1997).</p>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.ADC">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">ADC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><span class="pre">electrical_signal</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">otype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'v'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'n'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'v'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="types.html#opticomlib.typing.binary_sequence" title="opticomlib.typing.binary_sequence"><span class="pre">binary_sequence</span></a></span></span><a class="reference internal" href="_modules/opticomlib/devices.html#ADC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.ADC" title="Permalink to this definition"></a></dt>
<dd><p><strong>Analog-to-Digital Converter</strong></p>
<p>Converts an analog electrical signal into a quantized digital signal, sampled at a frequency <cite>fs</cite>
and filtered with a bandwidth BW.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><em>electrical_signal</em></a><em> | </em><em>np.array</em>) – Electrical signal to be quantized.</p></li>
<li><p><strong>fs</strong> (<em>float</em><em>, </em><em>default: None</em>) – Sampling frequency of the output signal. If None, signal is not sampled.</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>default: 8</em>) – Bits of quantization. Default is 8 bits.</p></li>
<li><p><strong>otype</strong> (<em>str</em><em>, </em><em>default: 'v'</em>) – Signal output type. If ‘v’ discrete amplitudes are return, if ‘n’ integer amplitudes between 0 and 2**n-1 are return.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Quantized digital signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal">electrical_signal</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">ADC</span>
<span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">gv</span><span class="p">,</span> <span class="n">electrical_signal</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">gv</span><span class="p">(</span><span class="n">sps</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">electrical_signal</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">gv</span><span class="o">.</span><span class="n">R</span><span class="o">*</span><span class="n">gv</span><span class="o">.</span><span class="n">t</span><span class="p">)</span> <span class="p">)</span>

<span class="n">yn</span> <span class="o">=</span> <span class="n">ADC</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">y</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">style</span><span class="o">=</span><span class="s1">&#39;light&#39;</span><span class="p">,</span>
    <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">lw</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
<span class="n">yn</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;.-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/b7aa19de8aa7f9735cd50647dacb1131/devices-6.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/d85aa01c6a278326f57e6620fce2e187/devices-6.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/d9e726deb9c0bc6557ebea0af3f5a1c3/devices-6.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/9f731e0b7e44639c9afaddb67d092982/devices-6.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-center">
<img alt="LPF example 1" class="plot-directive" src="_images/devices-6.png" />
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.GET_EYE">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">GET_EYE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><span class="pre">electrical_signal</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nslots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4096</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sps_resamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#GET_EYE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.GET_EYE" title="Permalink to this definition"></a></dt>
<dd><p><strong>Get Eye Parameters Estimator</strong></p>
<p>Estimates all fundamental parameters and metrics of the eye diagram
of the input electrical signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">electrical_signal</span></code> | <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>) – Electrical or optical signal from which the eye diagram will be estimated.</p></li>
<li><p><strong>nslots</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, default: 4096) – Number of slots to consider for eye reconstruction.</p></li>
<li><p><strong>sps_resamp</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, default: None) – Number of samples per slot to interpolate the original signal. If None the signal is not interpolated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Object of the eye class with all the parameters and metrics of the eye diagram.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">eye</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">input</span></code> is a ndarray but dimention is &gt;2.</p></li>
<li><p><strong>TypeError</strong> – If the <code class="docutils literal notranslate"><span class="pre">input</span></code> is not of type <cite>electrical_signal</cite>, <cite>optical_signal</cite> or <cite>np.ndarray</cite>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">PRBS</span><span class="p">,</span> <span class="n">DAC</span><span class="p">,</span> <span class="n">GET_EYE</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">gv</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">gv</span><span class="p">(</span><span class="n">sps</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">1e9</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="n">y</span> <span class="o">=</span> <span class="n">DAC</span><span class="p">(</span> <span class="n">PRBS</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">7</span><span class="p">),</span> <span class="n">pulse_shape</span><span class="o">=</span><span class="s1">&#39;gaussian&#39;</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">y</span><span class="o">.</span><span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">len</span><span class="p">())</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="n">GET_EYE</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">sps_resamp</span><span class="o">=</span><span class="mi">512</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c1"># with interpolation</span>
</pre></div>
</div>
<img alt="_images/GET_EYE_example1.png" src="_images/GET_EYE_example1.png" />
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.SAMPLER">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">SAMPLER</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.electrical_signal" title="opticomlib.typing.electrical_signal"><span class="pre">electrical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_eye_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.eye" title="opticomlib.typing.eye"><span class="pre">eye</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#SAMPLER"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.SAMPLER" title="Permalink to this definition"></a></dt>
<dd><p><strong>Digital sampler</strong></p>
<p>Receives an electrical signal and an eye object and performs the sampling of the signal
at the optimal instant determined by the eye object.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>input: The electrical signal to be sampled.
_eye_: The eye object that contains the eye diagram information.</p>
</dd>
<dt>Returns:</dt><dd><p>electrical_signal: The sampled electrical signal at one sample per slot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="opticomlib.devices.FBG">
<span class="sig-prename descclassname"><span class="pre">opticomlib.devices.</span></span><span class="sig-name descname"><span class="pre">FBG</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#opticomlib.typing.optical_signal" title="opticomlib.typing.optical_signal"><span class="pre">optical_signal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">neff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.45</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">landa_D</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kL</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dneff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vdneff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apodization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'uniform'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rcos'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'gaussian'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'parabolic'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Callable</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'uniform'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filtfilt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retH</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/opticomlib/devices.html#FBG"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opticomlib.devices.FBG" title="Permalink to this definition"></a></dt>
<dd><p><strong>Fiber Bragg Grating</strong>.</p>
<p>This function numerically calculates the reflectivity (transfer function <span class="math notranslate nohighlight">\(H(f)\)</span> in reflection) of the grating by
solving the coupled-wave equations using <cite>Runge-Kutta</cite> method with help of <code class="docutils literal notranslate"><span class="pre">signal.integrate.solve_ivp()</span></code> function. See <a class="reference internal" href="#notes">Notes</a>
section for more details.</p>
<p>In order to design the grating, combination of the following parameters can be used:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">neff</span></code>, <code class="docutils literal notranslate"><span class="pre">v</span></code>, <code class="docutils literal notranslate"><span class="pre">fc</span></code>, (<code class="docutils literal notranslate"><span class="pre">dneff</span></code> or <code class="docutils literal notranslate"><span class="pre">vdneff</span></code>), (<code class="docutils literal notranslate"><span class="pre">N</span></code> or <code class="docutils literal notranslate"><span class="pre">kL</span></code> or <code class="docutils literal notranslate"><span class="pre">L</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">neff</span></code>, <code class="docutils literal notranslate"><span class="pre">v</span></code>, <code class="docutils literal notranslate"><span class="pre">landaD</span></code>, (<code class="docutils literal notranslate"><span class="pre">dneff</span></code> or <code class="docutils literal notranslate"><span class="pre">vdneff</span></code>), (<code class="docutils literal notranslate"><span class="pre">N</span></code> or <code class="docutils literal notranslate"><span class="pre">kL</span></code> or <code class="docutils literal notranslate"><span class="pre">L</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">neff</span></code>, <code class="docutils literal notranslate"><span class="pre">v</span></code>, <code class="docutils literal notranslate"><span class="pre">landaD</span></code>, <code class="docutils literal notranslate"><span class="pre">kL</span></code>, (<code class="docutils literal notranslate"><span class="pre">N</span></code> or <code class="docutils literal notranslate"><span class="pre">L</span></code>)</p></li>
</ol>
<p>Bandwidth is governed essentially by three parameters:</p>
<ol class="arabic simple">
<li><p>Bragg wavelength (<span class="math notranslate nohighlight">\(\lambda_D\)</span>). Bandwidth is proportional to <span class="math notranslate nohighlight">\(\lambda_D\)</span>.</p></li>
<li><p>Product of visibility and effective index change (<span class="math notranslate nohighlight">\(v\delta n_{eff}\)</span>). If <span class="math notranslate nohighlight">\(v\delta n_{eff}\)</span> is small, the bandwidth is small.</p></li>
<li><p>Length of the grating (<span class="math notranslate nohighlight">\(L\)</span>). Bandwidth is inversely proportional to <span class="math notranslate nohighlight">\(L\)</span>.</p></li>
</ol>
<p>On the other hand, chirp parameter <span class="math notranslate nohighlight">\(F\)</span> can increase the bandwidth of the grating as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>) – The input optical signal.</p></li>
<li><p><strong>neff</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Effective refractive index of core fiber. Default is 1.45.</p></li>
<li><p><strong>v</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Visibility of the grating. Default is 1.</p></li>
<li><p><strong>landa_D</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Bragg wavelength (resonance wavelength). Default is None.</p></li>
<li><p><strong>fc</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Center frequency of the grating. Default is None.</p></li>
<li><p><strong>kL</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Product of the coupling coefficient and the length of the grating. Default is None.</p></li>
<li><p><strong>L</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Length of the grating.  Default is None.</p></li>
<li><p><strong>N</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional) – Number of period along grating length. Default is None.</p></li>
<li><p><strong>dneff</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Effective index change. Default is None.</p></li>
<li><p><strong>vdneff</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Effective index change multiplied by visibility (case of approximation σ-&gt;0). Default is None.</p></li>
<li><p><strong>apodization</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>) – <p>Apodization function. Can be an string with the name of the apodization function or a custom function. Default is <code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>.</p>
<p>The following apodization functions are available:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>: Uniform apodization, <code class="docutils literal notranslate"><span class="pre">f(z)</span> <span class="pre">=</span> <span class="pre">1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'rcos'</span></code>: Raised cosine apodization, <code class="docutils literal notranslate"><span class="pre">f(z)</span> <span class="pre">=</span> <span class="pre">1/2*(1</span> <span class="pre">+</span> <span class="pre">np.cos(pi*z))</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'gaussian'</span></code>: Gaussian apodization, <code class="docutils literal notranslate"><span class="pre">f(z)</span> <span class="pre">=</span> <span class="pre">np.exp(-4*np.log(2)*(3*z)**2)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'parabolic'</span></code>: Parabolic apodization, <code class="docutils literal notranslate"><span class="pre">f(z)</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">-</span> <span class="pre">(2*z)**2</span></code>.</p></li>
</ul>
<p>If a custom function is used, it must be a function of the form <code class="docutils literal notranslate"><span class="pre">f(z)</span></code>
where <code class="docutils literal notranslate"><span class="pre">z</span></code> is the position along the grating length normalized by <code class="docutils literal notranslate"><span class="pre">L</span></code> (i.e. <code class="docutils literal notranslate"><span class="pre">z</span> <span class="pre">=</span> <span class="pre">z/L</span></code>),
and the function must be defined in the range <code class="docutils literal notranslate"><span class="pre">-0.5</span> <span class="pre">&lt;=</span> <span class="pre">z</span> <span class="pre">&lt;=</span> <span class="pre">0.5</span></code>.</p>
</p></li>
<li><p><strong>F</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>, optional) – Chirp parameter. Default is 0.</p></li>
<li><p><strong>filtfilt</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If True, group delay will be corrected in output signal. Default is True.</p></li>
<li><p><strong>retH</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If True, the function will return the reflectivity (H(w)) of the grating. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>output</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>) – The reflected optical signal</p></li>
<li><p><strong>H</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>, optional) – Frequency response of grating fiber H(w), only returned if <code class="docutils literal notranslate"><span class="pre">retH=True</span></code></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If <code class="docutils literal notranslate"><span class="pre">input</span></code> is not an <code class="xref py py-obj docutils literal notranslate"><span class="pre">optical_signal</span></code>.</p></li>
<li><p><strong>ValueError</strong> – If the parameters are not correctly specified.</p></li>
</ul>
</dd>
<dt class="field-even">Warns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>UserWarning</strong> – If the apodization function is not recognized, a warning will be issued and the function will use uniform apodization.</p></li>
<li><p><strong>UserWarning</strong> – If bandwith is too large, the function will issue a warning and will use a default bandwidth of <cite>fs</cite>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p id="notes">Following coupled-wave theory, we assume a periodic, single-mode
waveguide with an electromagnetic field which can be represented by
two contradirectional coupled waves in the form <a class="footnote-reference brackets" href="#id9" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>:</p>
<div class="math notranslate nohighlight">
\[E(z) = A(z)e^{-j\beta_0 z} + B(z)e^{j\beta_0 z}\]</div>
<p>where A and B are slowly varying amplitudes of mode traveling in <span class="math notranslate nohighlight">\(+z\)</span> and math:<cite>-z</cite> directions, respectively
These amplitudes are linked by the standard coupled-wave equations:</p>
<div class="math notranslate nohighlight">
\[\begin{split}R' &amp;= j\hat{\sigma} R + j\kappa S \\
S' &amp;= -j\hat{\sigma} S - j\kappa R\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(R\)</span> and <span class="math notranslate nohighlight">\(S\)</span> are <span class="math notranslate nohighlight">\(R(z) = A(z)e^{j\delta z - \phi/2}\)</span> and <span class="math notranslate nohighlight">\(S(z) = B(z)e^{-j\delta z + \phi/2}\)</span>.
In these equations <span class="math notranslate nohighlight">\(\kappa\)</span> is the “AC” coupling coefficient and <span class="math notranslate nohighlight">\(\hat{\sigma}\)</span> is a general “dc” self-coupling coefficient defined as</p>
<div class="math notranslate nohighlight">
\[\hat{\sigma} = \delta + \sigma - \frac{1}{2}\phi'\]</div>
<p>The detuning <span class="math notranslate nohighlight">\(\delta\)</span>, which is independent of <span class="math notranslate nohighlight">\(z\)</span> for all gratings, is defined to be</p>
<div class="math notranslate nohighlight">
\[\delta = 2\pi n_{eff} \left( \frac{1}{\lambda} - \frac{1}{\lambda_{D}} \right)\]</div>
<p>where <span class="math notranslate nohighlight">\(\lambda_D = 2n_{eff}\Lambda\)</span> is the “design wavelength” for Bragg scattering by an infinitesimally weak grating <span class="math notranslate nohighlight">\((\delta n_{eff}\rightarrow 0)\)</span> with
a period <span class="math notranslate nohighlight">\(\Lambda\)</span>.</p>
<p>For a single-mode Bragg reflection grating:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\sigma &amp;= \frac{2\pi}{\lambda}\delta n_{eff} \\
\kappa &amp;= \frac{v}{2}\sigma = \frac{\pi}{\lambda}v\delta n_{eff}\end{split}\]</div>
<p>If the grating is uniform along <span class="math notranslate nohighlight">\(z\)</span>, then <span class="math notranslate nohighlight">\(\delta n_{eff}\)</span> is a constant and <span class="math notranslate nohighlight">\(\phi' = 0\)</span>,
and thus <span class="math notranslate nohighlight">\(\kappa\)</span>, <span class="math notranslate nohighlight">\(\sigma\)</span>, and <span class="math notranslate nohighlight">\(\hat{\sigma}\)</span> constants.</p>
<p>For apodized gratings, <span class="math notranslate nohighlight">\(\delta n_{eff}\)</span> is a function of <span class="math notranslate nohighlight">\(z\)</span>, and therefore <span class="math notranslate nohighlight">\(\kappa\)</span>, <span class="math notranslate nohighlight">\(\sigma\)</span>, and <span class="math notranslate nohighlight">\(\hat{\sigma}\)</span> are also functions of <span class="math notranslate nohighlight">\(z\)</span>.</p>
<p>If phase chirp is present, <span class="math notranslate nohighlight">\(\phi\)</span> and <span class="math notranslate nohighlight">\(\phi'\)</span> are also a function of <span class="math notranslate nohighlight">\(z\)</span>. This implementation considers only linear chirp, so:</p>
<div class="math notranslate nohighlight">
\[\phi'(z) = 2Fz/L^2\]</div>
<p>where <span class="math notranslate nohighlight">\(F\)</span> is a dimensionless “chirp parameter”, given by <a class="footnote-reference brackets" href="#id10" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>:</p>
<div class="math notranslate nohighlight">
\[F = \pi N \Delta \Lambda/\Lambda\]</div>
<p>or</p>
<div class="math notranslate nohighlight">
\[F = \pi N \Delta \lambda_D/\lambda_D = 2\pi n_{eff} \frac{\Delta \lambda_D}{\lambda_D^2}L\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\Delta \lambda_D = \lambda_D(z=-L/2) - \lambda_D(z=L/2)\]</div>
<p>ODE resolution is performed using <cite>scipy.integrate.solve_ivp</cite> function:</p>
<ul class="simple">
<li><p>Dimensionless variables are used: <span class="math notranslate nohighlight">\(z = z/L\)</span>, <span class="math notranslate nohighlight">\(\delta = \delta L\)</span>, <span class="math notranslate nohighlight">\(\kappa = \kappa L\)</span>, <span class="math notranslate nohighlight">\(\sigma = \sigma L\)</span>, <span class="math notranslate nohighlight">\(\phi' = \phi' L\)</span>.</p></li>
<li><p>The integration is performed from <span class="math notranslate nohighlight">\(z = 1/2\)</span> to <span class="math notranslate nohighlight">\(z = -1/2\)</span>.</p></li>
<li><p>The initial conditions are <span class="math notranslate nohighlight">\(R(1/2) = 1\)</span> and <span class="math notranslate nohighlight">\(S(1/2) = 0\)</span>.</p></li>
<li><p>The output is the relation <span class="math notranslate nohighlight">\(\rho = S(-1/2)/R(-1/2)\)</span>.</p></li>
</ul>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id9" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">3</a><span class="fn-bracket">]</span></span>
<p>Turan Erdogan, “Fiber Grating Spectra,” VOL. 15, NO. 8, AUGUST 1997. doi: <a class="reference external" href="https://doi.org/10.1109/50.618322">https://doi.org/10.1109/50.618322</a></p>
</aside>
<aside class="footnote brackets" id="id10" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">4</a><span class="fn-bracket">]</span></span>
<ol class="upperalpha simple" start="8">
<li><p>KOGELNIK, “Filter Response of Nonuniform Almost-Periodic Structures” Vol. 55, No. 1, January 1976. doi: <a class="reference external" href="https://doi.org/10.1002/j.1538-7305.1976.tb02062.x">https://doi.org/10.1002/j.1538-7305.1976.tb02062.x</a></p></li>
</ol>
</aside>
</aside>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">opticomlib</span> <span class="kn">import</span> <span class="n">optical_signal</span><span class="p">,</span> <span class="n">gv</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">plt</span><span class="p">,</span> <span class="n">np</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">opticomlib.devices</span> <span class="kn">import</span> <span class="n">FBG</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">gv</span><span class="p">(</span><span class="n">fs</span><span class="o">=</span><span class="mf">100e9</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="n">x</span> <span class="o">=</span> <span class="n">optical_signal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">12</span><span class="p">))</span>
<span class="linenos"> 7</span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">w</span><span class="p">(</span><span class="n">shift</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">pi</span><span class="o">*</span><span class="mf">1e-9</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">for</span> <span class="n">apo</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="s1">&#39;parabolic&#39;</span><span class="p">,</span> <span class="s1">&#39;rcos&#39;</span><span class="p">,</span> <span class="s1">&#39;gaussian&#39;</span><span class="p">]:</span>
<span class="linenos">10</span>    <span class="n">_</span><span class="p">,</span><span class="n">H</span> <span class="o">=</span> <span class="n">FBG</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="n">gv</span><span class="o">.</span><span class="n">f0</span><span class="p">,</span> <span class="n">vdneff</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">,</span> <span class="n">kL</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">apodization</span><span class="o">=</span><span class="n">apo</span><span class="p">,</span> <span class="n">retH</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">11</span>    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">db</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">H</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">apo</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Frequency (Hz)&#39;</span><span class="p">)</span>
<span class="linenos">14</span><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Magnitude (dB)&#39;</span><span class="p">)</span>
<span class="linenos">15</span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="linenos">16</span><span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,)</span>
<span class="linenos">18</span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/FBG_example1.svg" class="align-center" src="_images/FBG_example1.svg" /></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="types.html" class="btn btn-neutral float-left" title="Data types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ook.html" class="btn btn-neutral float-right" title="OOK Devices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Ing. Armando P. Romeu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>